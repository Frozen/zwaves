package com.wavesplatform.zwaves.bls12;

import org.junit.Test;

import java.util.Arrays;
import java.util.Base64;

import static org.junit.Assert.*;

public class PedersenMerkleTreeTest {

    @Test
    public void test() {
        
        byte[] root0 = Base64.getDecoder().decode("YK6g9RXHtw3vE3zmjCGCdLqrij2BwvPCO0E8Bm977ks=");
        byte[] proof0 = Base64.getDecoder().decode("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");
        byte[] root_and_proof1 = Base64.getDecoder().decode("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");

        byte[] elements1 = Base64.getDecoder().decode("GrfbyxFPhfTsam3aY8yqeY072ZrT3DTO8SrSRg4nJZ9nF1OpFPuvXQlcbsqFrGUkgUlokbCealGEw0J8G/H2oWFOY3CHDDhqBQGzUzk+/R3uYljv0YS/Wnb41IKeDSzfDcrJ41FdxBXgptFlh+TM3OKlgJ2jSAF9mqE3v7dUD/1n6conMUMPB+yeP5fapHBGu2OtlDmiHjzuGG6xrrW7tW45mNToh8yTb+POgZP+IvCmf7b8Tzzs0Z9fv998Q5HdXwrH6ts1cC9GBn9GwlWiDxfbKHKE+XS86tNoGPje5MFE7fWtv5XKzkGirbKRuKsBrLDrwl4UwaruqMwk1jJ4jTnsYzLpaGW7nZ46g+Mx5THu8481Kl7zWTFyRXVLIlvCc3eI3oqsjglbnCZ/7xgG4mnlDWqKYBuWzkmm6pCXB0JV7p+/1G7KcT7SIYoWUdf/XPedxh3N3Qgp3xhyh2VpcAMiK9JrMi8j4EQEsxE9Qm58z8aZ+fGBDkEJPaX0TJ1mDQvC4jQH6Sw96KjRLwezomn2Y5rtXcsxqX5UEhuYk39cxPBUX1tC5ap9qn0IPJaQ1Aj7tZvKhm4H1z3zAdwILTzjXYFOE2NyGZub0DY0g16XZKzhOCrtyeSauxm2pRzjNOFKLyEnk8/8a4bAXfODxGA4tCoBlv8ixFGa1agonvVPMc9FP6/S/26YEL491LGZsnqQ5AvvPt1oe/TmcfK/P1AxgsO2chZPqwddisQNRinb8x5NE8ptEWh9He7uutE/LeAGQVN5BYNpEMijP1RDj1FQkDFgglvvh6rgqm7sZr4lh/8wInwzJMMVTN9Dw1uvRHI5Igir1gcvs0vbuqhAf1NRcY5tnD6PxSTl79M1SkTpg1MSmpYJcISdoFNmfq0LVRUyp47f6gjWt+qVkyJAe3xp0GaEmaMKvvj2xVxLdxRRlRRTYABMFjU63LBttYjn0e1qkAvv1JveIrreATBq5Q==");        
        byte[] root_and_proof1_cmp = PedersenMerkleTree.addItem(root0, proof0, 23, elements1);

        assertArrayEquals("new root and proof should be valid", root_and_proof1_cmp, root_and_proof1);

    }

}